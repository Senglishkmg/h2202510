<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3. 문단별 심층 분석 워크북 (31번)</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    body { font-family: 'Inter', sans-serif; }
    .sentence { cursor: pointer; transition: background-color 0.2s; padding: 2px 0; border-radius: 4px; }
    .sentence:hover { background-color: #dbeafe; }
    .selected-boundary { font-weight: bold; color: #1d4ed8; }
    .segment-divider { border-bottom: 2px dashed #fbbf24; margin: 8px 0; padding-bottom: 8px; }
    .feedback-correct { color: #16a34a; }
    .feedback-incorrect { color: #dc2626; }
    .shake { animation: shake 0.5s; }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
</style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 sm:p-6">
<div class="bg-white rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-4xl">
    <div id="main-container">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-4 text-center border-b pb-4">3. 문단별 심층 분석 워크북 (31번)</h1>
        <div id="segmentation-container">
            <p id="segmentation-instruction" class="text-lg text-center bg-blue-50 text-blue-800 p-4 rounded-lg mb-6"></p>
            <div id="text-container" class="text-gray-700 leading-relaxed text-lg p-4 border rounded-lg bg-white"></div>
            <p id="segmentation-feedback" class="text-center mt-4 h-6 text-lg font-medium"></p>
        </div>
        <div id="analysis-container" class="hidden">
            <p class="text-xl text-center bg-green-50 text-green-800 p-4 rounded-lg mb-8 font-semibold">성공! 이제 각 부분의 핵심 내용을 분석해 보세요.</p>
            <div id="analysis-tasks-container" class="space-y-8"></div>
        </div>
    </div>
</div>
<script>
    const data = {
  "pageTitle": "3. 문단별 심층 분석 워크북 (31번)",
  "fullText": "While convenience and technology are crucial, they are not the only factors driving Gen Z’s financial decisions. This generation is incredibly ① values-driven, and they want to bank with institutions that match their personal beliefs and values. ② Transparency is vital. Gen Z is skeptical of large corporations and institutions that lack accountability. They have grown up in a world where information is freely available, and they expect complete transparency from the brands they support. Banks, for example, must clearly communicate fees, terms, and conditions, as well as how they handle customers’ data. Moreover, ethical banking practices are more ③ important than ever. Gen Z cares about the environment, social justice, and the ethical implications of their financial decisions. They are interested in sustainable investing, supporting businesses that match their values, and ensuring that their money is not being used to fund ④ beneficial practices. Banks that offer socially responsible investment opportunities and are committed to environmental sustainability will ⑤ attract Gen Z’s attention.",
  "segmentationTask": {
    "instruction": "아래 원문은 분석지에 따라 세 부분으로 나뉩니다. 각 부분이 끝나는 문장을 클릭하여 영역을 나누어 보세요.",
    "correctEndSentences": [
      "This generation is incredibly ① values-driven, and they want to (다)bank with institutions that match their (가)personal beliefs and values.",
      "(다)Banks, for example, must clearly communicate fees, terms, and conditions, as well as how they handle customers’ data.",
      "(다)Banks that offer (나)socially responsible investment opportunities and are committed to (나)environmental sustainability will ⑤ attract Gen Z’s attention."
    ]
  },
  "analysisTasks": [
    {
      "partNumber": 1,
      "partText": "While convenience and technology are crucial, they are not the only factors driving Gen Z’s financial decisions. This generation is incredibly ① values-driven, and they want to (다)bank with institutions that match their (가)personal beliefs and values.",
      "mainIdea": {
        "question": "Z세대는 편의성 너머의 (가)개인적 가치를 기준으로 (다)금융 기관을 [빈칸]",
        "answer": "선택한다."
      },
      "role": {
        "question": "통념(편의성, 기술)을 반박하며 Z세대의 핵심 특징인 \\'가치 중심적 성향\\'을 제시하는 도입부 역할을 [빈칸]",
        "answer": "합니다."
      }
    },
    {
      "partNumber": 2,
      "partText": "② Transparency is vital. Gen Z is skeptical of large corporations and (다)institutions that lack (나)accountability. They have grown up in a world where information is freely available, and they expect complete (나)transparency from the brands they support. (다)Banks, for example, must clearly communicate fees, terms, and conditions, as well as how they handle customers’ data.",
      "mainIdea": {
        "question": "Z세대가 중시하는 (가)가치의 첫 번째 요소는 (나)투명성이며, (다)금융 기관은 이를 보장해야 [빈칸]",
        "answer": "한다."
      },
      "role": {
        "question": "첫 번째 핵심 가치인 \\'투명성\\'을 제시하고, 은행의 구체적인 사례를 들어 주장을 [빈칸]",
        "answer": "뒷받침합니다."
      }
    },
    {
      "partNumber": 3,
      "partText": "Moreover, (나)ethical banking practices are more ③ important than ever. Gen Z (가)cares about the environment, social justice, and the (나)ethical implications of their financial decisions. They are interested in sustainable investing, supporting businesses that match their (가)values, and ensuring that their money is not being used to fund ④ beneficial practices. (다)Banks that offer (나)socially responsible investment opportunities and are committed to (나)environmental sustainability will ⑤ attract Gen Z’s attention.",
      "mainIdea": {
        "question": "Z세대는 (나)윤리성을 매우 중시하므로, 이에 부응하는 (다)금융 기관만이 그들의 선택을 받을 수 [빈칸]",
        "answer": "있다."
      },
      "role": {
        "question": "두 번째 핵심 가치인 \\'윤리성\\'을 강조하고, 이것이 금융 기관의 성공과 직결된다는 결론을 제시하며 글을 [빈칸]",
        "answer": "마무리합니다."
      }
    }
  ]
};
    document.addEventListener('DOMContentLoaded', () => {
        const instructionEl = document.getElementById('segmentation-instruction');
        const textContainer = document.getElementById('text-container');
        const feedbackEl = document.getElementById('segmentation-feedback');
        const analysisContainer = document.getElementById('analysis-container');
        const segmentationContainer = document.getElementById('segmentation-container');
        let currentSegmentIndex = 0;
        const correctBoundaries = data.segmentationTask.correctEndSentences;
        
        function initializeSegmentation() {
            instructionEl.textContent = data.segmentationTask.instruction;
            const sentences = data.fullText.match(/[^.!?]+[.!?]*/g) || [];
            sentences.forEach(sentenceText => {
                const span = document.createElement('span');
                span.textContent = sentenceText.trim() + ' ';
                span.classList.add('sentence');
                span.onclick = handleSentenceClick;
                textContainer.appendChild(span);
            });
        }

        function handleSentenceClick(event) {
            const clickedSentence = event.target.textContent.trim();
            if (clickedSentence === correctBoundaries[currentSegmentIndex]) {
                event.target.classList.add('selected-boundary', 'segment-divider');
                event.target.onclick = null;
                event.target.style.cursor = 'default';
                currentSegmentIndex++;
                feedbackEl.textContent = '정확합니다! 다음 영역을 나눠보세요.';
                feedbackEl.className = 'text-center mt-4 h-6 text-lg font-medium feedback-correct';
                if (currentSegmentIndex >= correctBoundaries.length) {
                    feedbackEl.textContent = '모든 문단을 성공적으로 나누었습니다!';
                    setTimeout(() => {
                        segmentationContainer.classList.add('hidden');
                        analysisContainer.classList.remove('hidden');
                        initializeAnalysis();
                    }, 1500);
                }
            } else {
                feedbackEl.textContent = '틀렸습니다. 다시 시도해 보세요.';
                feedbackEl.className = 'text-center mt-4 h-6 text-lg font-medium feedback-incorrect';
                event.target.classList.add('shake');
                setTimeout(() => event.target.classList.remove('shake'), 500);
            }
        }

        function initializeAnalysis() {
            const container = document.getElementById('analysis-tasks-container');
            data.analysisTasks.forEach(task => {
                const taskEl = document.createElement('div');
                taskEl.className = 'border rounded-xl p-6 bg-gray-50';
                const formattedQuestion = (q) => q.replace(/\\[빈칸\\]/g, '<input type="text" class="w-24 sm:w-32 mx-1 p-1 border-b-2 border-gray-300 focus:border-blue-500 outline-none bg-transparent">').replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-blue-600">$1</strong>');
                taskEl.innerHTML = `
                    <div class="mb-4"><span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full mb-2">Part ${task.partNumber}</span><p class="text-gray-600 leading-relaxed">${task.partText}</p></div>
                    <div class="space-y-4 mt-6">
                        <div class="main-idea-question"><label class="block text-gray-700 font-medium">${formattedQuestion(task.mainIdea.question)}</label><span class="feedback-span text-sm font-medium ml-2"></span></div>
                        <div class="role-question"><label class="block text-gray-700 font-medium">${formattedQuestion(task.role.question)}</label><span class="feedback-span text-sm font-medium ml-2"></span></div>
                    </div>
                    <div class="text-right mt-4"><button class="check-btn bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors">정답 확인</button></div>`;
                taskEl.querySelector('.check-btn').addEventListener('click', () => {
                    checkAnswer(taskEl.querySelector('.main-idea-question input'), task.mainIdea.answer, taskEl.querySelector('.main-idea-question .feedback-span'));
                    checkAnswer(taskEl.querySelector('.role-question input'), task.role.answer, taskEl.querySelector('.role-question .feedback-span'));
                });
                container.appendChild(taskEl);
            });
        }
        function checkAnswer(inputEl, correctAnswer, feedbackEl) {
            const userAnswer = inputEl.value.trim();
            if (userAnswer && correctAnswer.toLowerCase().includes(userAnswer.toLowerCase())) {
                feedbackEl.textContent = '✓ 정답';
                feedbackEl.className = 'feedback-span text-sm font-medium ml-2 feedback-correct';
                inputEl.style.borderColor = '#16a34a';
            } else {
                feedbackEl.textContent = `✗ 오답 (정답: ${correctAnswer})`;
                feedbackEl.className = 'feedback-span text-sm font-medium ml-2 feedback-incorrect';
                inputEl.style.borderColor = '#dc2626';
            }
        }
        initializeSegmentation();
    });
</script>
</body>
</html>