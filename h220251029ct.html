<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>29번 지문 내용 이해 평가</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .option-btn {
            transition: all 0.2s ease-in-out;
        }
        .option-btn.correct {
            background-color: #d1fae5; /* green-100 */
            border-color: #10b981; /* green-500 */
            color: #065f46; /* green-800 */
        }
        .option-btn.incorrect {
            background-color: #fee2e2; /* red-100 */
            border-color: #f87171; /* red-400 */
            color: #991b1b; /* red-800 */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 sm:p-6">
    <div id="quiz-container" class="bg-white rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-3xl">
        <!-- Quiz content will be generated by JavaScript -->
    </div>

    <script>
        const quizData = {
          "pageTitle": "29번 지문 내용 이해 평가",
          "instruction": "지문의 내용을 바탕으로, 다음 질문에 가장 적절한 답을 고르세요.",
          "questions": [
            { "id": 1, "question": "지문에 따르면, 첫 번째 유형의 실수(긍정적 변화)가 영속되는 경향이 있는 이유는 무엇인가?", "options": [{ "text": "변형된 세포가 번식할 가능성이 증가하기 때문에", "isCorrect": true }, { "text": "부모 세포의 유전 정보와 완전히 동일하기 때문에", "isCorrect": false }, { "text": "오류가 세포의 장래에 아무런 영향을 미치지 않기 때문에", "isCorrect": false }, { "text": "세포가 스스로 심각한 손상을 복구하는 능력이 있어서", "isCorrect": false }], "rationale": "정답입니다. 본문에서는 'because the altered cell has an increased likelihood of reproducing itself'라고 명시하며, 번식 가능성의 증가가 긍정적 변화가 영속되는 원인이라고 설명합니다." },
            { "id": 2, "question": "지문에서 심각한 손상을 야기하는 변화의 최종 결과로 언급된 것은 무엇인가?", "options": [{ "text": "더 나은 쪽으로의 변화를 나타낸다.", "isCorrect": false }, { "text": "후손을 남기지 못하고 사라진다.", "isCorrect": true }, { "text": "우연에 의해 영속되기도 한다.", "isCorrect": false }, { "text": "다른 유기체와의 경쟁에서 생존하게 한다.", "isCorrect": false }], "rationale": "정답입니다. 본문에서는 심각한 손상을 겪는 세포는 'dies, leaving no progeny(죽어서, 어떤 자손도 남기지 않는다)'라고 설명합니다." },
            { "id": 3, "question": "두 번째 유형의 실수(중립적 변화)에 대한 설명으로 가장 옳은 것은?", "options": [{ "text": "핵심 단백질의 암호화 서열을 항상 파괴한다.", "isCorrect": false }, { "text": "항상 다음 세대로 유전되어 영속된다.", "isCorrect": false }, { "text": "영속될지 여부는 우연에 의해 결정된다.", "isCorrect": true }, { "text": "환경을 더 효과적으로 활용하는 새로운 방식을 제공한다.", "isCorrect": false }], "rationale": "정답입니다. 본문에서는 중립적 변화에 대해 'it is a matter of chance(그것은 우연의 문제이다)'라고 명확히 언급합니다." },
            { "id": 4, "question": "'돌연변이와 자연 선택의 순환'이 끝없이 반복될 때 나타나는 최종 결과는 무엇인가?", "options": [{ "text": "세포 분열 시 발생하는 모든 오류가 사라짐", "isCorrect": false }, { "text": "모든 딸 세포가 부모 세포와 동일해짐", "isCorrect": false }, { "text": "유기체의 진화", "isCorrect": true }, { "text": "세포의 장래에 중요하지 않은 차이만 남게 됨", "isCorrect": false }], "rationale": "정답입니다. 본문의 마지막 부분에서는 'Through endless repetition of this cycle of mutation and natural selection organisms evolve'라고 하여, 이 순환의 결과가 '진화'임을 명시하고 있습니다." },
            { "id": 5, "question": "세포 분열 시 발생하는 오류의 결과로 지문에서 언급되지 않은 것은?", "options": [{ "text": "더 나은 쪽으로의 변화", "isCorrect": false }, { "text": "세포의 장래에 중요하지 않은 차이", "isCorrect": false }, { "text": "핵심 단백질 암호화 서열의 손상", "isCorrect": false }, { "text": "부모 세포의 유전 정보 완벽 복제", "isCorrect": true }], "rationale": "정답입니다. 본문은 첫 문장에서부터 딸 세포의 유전체가 부모 세포와 'not quite identical(완전히 동일하지는 않다)'고 설명하므로, '완벽 복제'는 지문의 내용과 반대됩니다." }
          ]
        };

        let currentQuestionIndex = 0;
        let userAnswers = [];

        document.addEventListener('DOMContentLoaded', () => {
            showQuestion(currentQuestionIndex);
        });

        function showQuestion(index) {
            const container = document.getElementById('quiz-container');
            const question = quizData.questions[index];

            container.innerHTML = `
                <div class="mb-4 text-center">
                    <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">${quizData.pageTitle}</h1>
                    <p class="text-gray-500 mt-1">${quizData.instruction}</p>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5 my-6">
                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: ${((index + 1) / quizData.questions.length) * 100}%"></div>
                </div>

                <div class="bg-gray-50 p-6 rounded-lg">
                    <p class="text-lg font-semibold text-gray-800 mb-5">
                        <span class="text-blue-600 font-bold">Q${question.id}.</span> ${question.question}
                    </p>
                    <div id="options-container" class="space-y-3">
                        ${question.options.map((option, i) => `
                            <button class="option-btn w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300" onclick="checkAnswer(${i}, this)">
                                ${option.text}
                            </button>
                        `).join('')}
                    </div>
                    <div id="rationale-container" class="mt-5"></div>
                </div>
            `;
        }
        
        function checkAnswer(selectedIndex, element) {
            const question = quizData.questions[currentQuestionIndex];
            const selectedOption = question.options[selectedIndex];
            
            userAnswers[currentQuestionIndex] = {
                question: question.question,
                selected: selectedOption.text,
                isCorrect: selectedOption.isCorrect
            };

            const options = document.getElementById('options-container').children;
            Array.from(options).forEach(btn => btn.disabled = true);

            if(selectedOption.isCorrect){
                element.classList.add('correct');
            } else {
                element.classList.add('incorrect');
                // Highlight the correct answer
                 question.options.forEach((opt, i) => {
                    if (opt.isCorrect) {
                       options[i].classList.add('correct');
                    }
                });
            }

            const rationaleContainer = document.getElementById('rationale-container');
            rationaleContainer.innerHTML = `
                <div class="p-4 rounded-lg ${selectedOption.isCorrect ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}">
                    <p>${question.rationale}</p>
                </div>
                <div class="text-right mt-4">
                    <button class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700" onclick="nextQuestion()">
                        ${currentQuestionIndex < quizData.questions.length - 1 ? '다음 문제' : '결과 보기'}
                    </button>
                </div>
            `;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.questions.length) {
                showQuestion(currentQuestionIndex);
            } else {
                showResults();
            }
        }

        function showResults() {
             const container = document.getElementById('quiz-container');
             const correctCount = userAnswers.filter(a => a.isCorrect).length;
             const totalCount = quizData.questions.length;
             
             container.innerHTML = `
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-gray-800">최종 결과</h1>
                    <p class="text-6xl font-bold my-6 ${correctCount === totalCount ? 'text-green-500' : 'text-blue-600'}">
                        ${correctCount} / ${totalCount}
                    </p>
                    <p class="text-xl text-gray-600 mb-8">수고하셨습니다. 아래 버튼으로 결과를 저장하거나 다시 풀어보세요.</p>
                     <div class="text-center mt-8 space-x-4">
                        <button onclick="saveResults()" class="bg-gray-700 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-gray-800">결과 저장하기</button>
                        <button onclick="location.reload()" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-green-700">다시 풀기</button>
                    </div>
                </div>
             `;
        }

        function saveResults() {
            let textContent = `29번 지문 내용 이해 평가 - 결과\n========================================\n\n`;
            textContent += `총 점수: ${userAnswers.filter(a => a.isCorrect).length} / ${quizData.questions.length}\n\n`;
            
            userAnswers.forEach((answer, index) => {
                textContent += `Q${index + 1}. ${answer.question}\n`;
                textContent += `  - 선택한 답: ${answer.selected}\n`;
                textContent += `  - 채점: ${answer.isCorrect ? '정답' : '오답'}\n\n`;
            });
            
            const blob = new Blob([textContent], { type: 'text/plain;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'h220251029ct_results.txt';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

    </script>
</body>
</html>
